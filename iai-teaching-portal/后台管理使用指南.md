# 后台管理系统使用指南

## 访问地址

**前台页面**: http://localhost:5174
**后台管理**: http://localhost:5174/admin

## 功能概览

后台管理系统提供了完整的内容管理功能，包括：

### 1. 入口管理 (`/admin/entries`)
管理所有应用入口卡片

**功能特性**：
- 新增/编辑/删除入口卡片
- 搜索过滤
- 批量导出配置
- 在线表单编辑

**可编辑字段**：
- 名称：应用名称
- URL：跳转链接
- 描述：应用简介
- 分组：所属分类
- 图标：渐变背景（8种预设）
- 状态：可用/维护中/新功能
- 排序：显示顺序
- 标签：多个标签（支持动态添加/删除）
- 推荐：是否显示在推荐区域

**操作步骤**：
1. 点击"新增入口"按钮
2. 填写表单信息
3. 添加标签（输入后点击添加）
4. 点击"保存"
5. 控制台会打印配置数据（复制到 `public/config/entries.json`）

### 2. 公告管理 (`/admin/announcements`)
管理系统公告通知

**功能特性**：
- 新增/编辑/删除公告
- 搜索过滤
- 置顶管理
- 批量导出配置

**可编辑字段**：
- 标题：公告标题
- 内容：详细内容
- 标签：通知/维护/更新/新功能
- 类型：成功/警告/信息/错误（影响颜色）
- 置顶：是否置顶显示

**操作步骤**：
1. 点击"新增公告"按钮
2. 填写标题和内容
3. 选择标签和类型
4. 勾选"置顶公告"（可选）
5. 点击"保存"
6. 复制控制台数据到 `public/config/announcements.json`

### 3. 分组管理 (`/admin/groups`)
管理侧边导航分组

**功能特性**：
- 新增/编辑/删除分组
- 拖拽排序（上移/下移）
- 图标选择（10个预设 + 自定义）

**可编辑字段**：
- 名称：分组名称（如"教学流程"）
- ID：唯一标识（如"teaching-flow"）
- 图标：Material Design Icons
- 排序：显示顺序

**操作步骤**：
1. 点击"新增分组"按钮
2. 填写名称和 ID
3. 选择图标或输入自定义图标名称
4. 设置排序
5. 使用上移/下移按钮调整顺序
6. 复制控制台数据到 `public/config/entries.json` 的 `groups` 数组

## 重要说明

### 数据保存机制

当前后台管理系统采用**前端模拟方式**，数据保存流程：

1. 编辑/新增/删除操作后，数据保存在内存中
2. 点击保存后，配置数据会打印到浏览器控制台
3. 复制控制台的 JSON 数据
4. 手动粘贴到对应的配置文件：
   - 入口配置：`public/config/entries.json`
   - 公告配置：`public/config/announcements.json`
5. 刷新页面查看效果

### 生产环境部署

实际项目中需要：

1. **后端 API 接入**
   - 创建后端接口：`GET /api/entries`, `POST /api/entries`, `PUT /api/entries/:id`, `DELETE /api/entries/:id`
   - 修改前端请求：将 `fetch('/config/entries.json')` 改为 `fetch('/api/entries')`
   - 添加身份验证：JWT Token 或 Session
   - 添加权限控制：管理员角色验证

2. **数据持久化**
   - 使用数据库存储（MySQL/PostgreSQL/MongoDB）
   - 支持事务和回滚
   - 添加操作日志

3. **文件上传**
   - 支持图标文件上传
   - 图片压缩和 CDN 存储
   - 生成缩略图

4. **版本控制**
   - 配置版本管理
   - 回滚功能
   - 发布/草稿状态

## 快捷操作

### 导出配置
每个管理页面都有"导出配置"按钮：
- 点击后自动下载 JSON 文件
- 文件名：`entries-config.json` 或 `announcements-config.json`
- 可用于备份或迁移

### 搜索过滤
- 支持实时搜索
- 搜索范围：名称、描述、标签
- 大小写不敏感

### 表格操作
- 编辑：点击铅笔图标
- 删除：点击删除图标（需要确认）
- 排序：使用上下箭头（分组管理）
- 置顶：点击图钉图标（公告管理）

## 设计规范

### 图标渐变选项
- `gradient-purple`: 紫色渐变
- `gradient-blue`: 蓝色渐变
- `gradient-green`: 绿色渐变
- `gradient-orange`: 橙色渐变
- `gradient-red`: 红色渐变
- `gradient-teal`: 青色渐变
- `gradient-pink`: 粉色渐变
- `gradient-indigo`: 靛色渐变

### 状态类型
**入口状态**：
- `available`: 可用（绿色）
- `maintenance`: 维护中（橙色）
- `new`: 新功能（蓝色）

**公告类型**：
- `success`: 成功（绿色）
- `warning`: 警告（橙色）
- `info`: 信息（蓝色）
- `error`: 错误（红色）

### 图标资源
- 使用 Material Design Icons (MDI)
- 查找图标：https://icon-sets.iconify.design/mdi/
- 格式：`mdi:icon-name`
- 示例：`mdi:school`, `mdi:bell`, `mdi:chart-line`

## 常见问题

### Q: 为什么保存后刷新页面数据丢失？
A: 当前是前端模拟，数据存在内存中。需要复制控制台的 JSON 数据到对应的配置文件，然后刷新。

### Q: 如何批量导入数据？
A: 直接编辑 `public/config/` 下的 JSON 文件，按照现有格式添加数据即可。

### Q: 删除分组后，对应的入口会怎样？
A: 入口不会被删除，但因为找不到分组会显示异常。建议先修改入口的分组再删除分组。

### Q: 图标不显示怎么办？
A:
1. 检查图标名称是否正确（格式：`mdi:icon-name`）
2. 确保已安装 `@iconify/vue` 包
3. 查看浏览器控制台是否有错误

### Q: 如何接入真实后端？
A: 参考上面"生产环境部署"章节，需要创建对应的 RESTful API 接口。

## 键盘快捷键

- `Esc`: 关闭对话框
- `Enter`: 提交表单（在输入框中）
- `Tab`: 切换表单字段

## 浏览器兼容性

- Chrome/Edge >= 90
- Firefox >= 88
- Safari >= 14

## 安全建议

1. 添加登录认证（JWT Token）
2. 添加 CSRF 防护
3. 限制后台访问 IP（生产环境）
4. 添加操作日志审计
5. 定期备份配置数据

---

如有问题，请查看浏览器控制台的错误信息。
